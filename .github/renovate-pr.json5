{
  /**
   * Renovate Configuration for PR-specific updates
   *
   * This configuration file defines how Renovate handles dependency updates for PRs.
   *
   * Documentation: https://docs.renovatebot.com/configuration-options/
   */
  $schema: "https://docs.renovatebot.com/renovate-schema.json",

  // Automatically merge dependency updates once all checks pass
  automerge: true,
  // Merge directly to the branch without creating a separate PR
  automergeType: "branch",
  // Prefix for branches created by Renovate (chore/renovate-pr/dependency-1.x)
  branchPrefix: "chore/renovate-pr/",
  // Keep the extends started with ":" at the end of the list to allow overriding
  extends: [
    "config:recommended", // Renovate's recommended configuration preset
    ":disableDependencyDashboard", // Don't create dependency dashboard issues
    ":disableRateLimiting", // Disable rate limiting for faster updates
    ":docker", // Enable Docker container updates
    ":pinSkipCi", // Pin dependencies and skip CI for pin-only updates
  ],
  // Skip waiting for tests to pass before automerging
  ignoreTests: true,
  // Custom rules to control how dependencies are updated
  packageRules: [
    {
      // Add [skip ci] to commit body to avoid triggering CI on dependency updates
      commitBody: "[skip ci]",
      description: "Group all dependencies into a single commit with automerge",
      // Combine all updates into a single "all dependencies" group
      groupName: "all dependencies",
      // Apply this rule to all packages
      matchPackageNames: ["*"],
    },
  ],
  // This allows Renovate to detect and update dependencies that aren't in standard package files
  customManagers: [
    {
      customType: "regex",
      fileMatch: ["\\.sh$"],
      matchStrings: [
        '# renovate: datasource=(?<datasource>.+?) depName=(?<depName>.+?)\\n.*@(?<currentDigest>[a-f0-9]{40}) # (?<currentValue>[^"]+)"',
      ],
    },
  ],
  // Use platform's native API for commits (enables signed commits on GitHub)
  platformCommit: "enabled",
  // Run Renovate even if no config file is found in the target repository
  requireConfig: "ignored",
  // Combine major and minor updates into a single PR instead of separate ones
  separateMajorMinor: false,
}
